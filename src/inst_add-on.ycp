/**
 * File:	clients/inst_add-on.ycp
 * Package:	yast2-add-on
 * Summary:	Select add-on products for installation
 * Authors:	Jiri Srain <jsrain@suse.de>
 *
 */

{
textdomain "add-on";

import "AddOnProduct";
import "GetInstArgs";
import "Packages";
import "PackageCallbacksInit";
import "Popup";
import "ProductControl";
import "Report";
import "Wizard";
import "Label";

include "add-on/add-on-workflow.ycp";

if (AddOnProduct::skip_add_ons) {
    y2milestone ("Skipping add-ons (as requested before)");
    return `auto;
}

map argmap = GetInstArgs::argmap();

Packages::SelectProduct ();

PackageCallbacksInit::SetMediaCallbacks();

symbol ret = RunAddOnMainDialog (
    GetInstArgs::enable_back(), GetInstArgs::enable_next(),
    Label::BackButton(), Label::NextButton()
);

if (ret == `next)
{
    ret = ProductControl::RunFrom (
	ProductControl::CurrentStep () + 1,
	true);
    if (ret == `next)
	ret = `finish;
}

return ret;

/* EOF */
}
